!function(){"use strict";var e,r={101:function(){var e=window.wp.blocks,r=window.wp.element,t=(window.wp.i18n,window.wp.blockEditor),c=window.wp.components;function l(e){const l=e.attributes,a=e.setAttributes,s=wp.data.select("core/block-editor").getBlocks();let o=window.oercurrBlocksJson?(0,t.useBlockProps)():"";window.oercurrBlocksJson||jQuery(".components-panel__header.edit-post-sidebar__panel-tabs").css("z-index",-2),s.map((e=>{if("oer-curriculum/oer-curriculum-block"==e.name){var r="cb"+(new Date).getTime(),t=e.clientId;wp.data.select("core/block-editor").getBlockAttributes(t).blockid||wp.data.dispatch("core/block-editor").updateBlockAttributes(t,{blockid:r})}}));let u=[];if(void 0!==l.selectedCategory){const e=l.selectedCategory.split(","),r=e.indexOf("");r>-1&&e.splice(r,1),e.map((e=>{u.push(parseInt(e))}))}if(l.categories||wp.apiFetch({url:"/wp-json/curriculum/v2/catquery"}).then((e=>{a({categories:e})})),!l.categories)return"Loading categories...";if(l.categories&&0===l.categories.length)return"No categories found, please add some!";let n=[];if(n=l.categories,!l.curriculums){let e="";e="title"==l.selsrt?"asc":"desc",""!=u?wp.apiFetch({url:"/wp-json/curriculum/v2/taxquery?perpage="+l.selper+"&terms="+u+"&orderby="+l.selsrt+"&order="+e}).then((e=>{a({curriculums:e,curriculumlength:parseInt(e.length)})})):wp.apiFetch({url:"/wp-json/curriculum/v2/taxquery?terms=0"}).then((e=>{a({curriculums:e,curriculumlength:parseInt(e.length)})}))}if(!l.curriculums&&""!=l.selectedCategory)return"Loading curriculum ...";let i=[];if(i=l.curriculums,!i&&0!=i.length)return"Loading curriculum ....";function p(e,r){if(e.target.checked)u.push(e.target.getAttribute("data"));else{const r=u.indexOf(parseInt(e.target.getAttribute("data")));r>-1&&u.splice(r,1)}a({selectedCategory:u.toString()}),localStorage.setItem("selectedCategory-"+l.blockid,u.toString());let t="title"==l.selsrt?"asc":"desc";""!=u?wp.apiFetch({url:"/wp-json/curriculum/v2/taxquery?perpage="+l.selper+"&terms="+u+"&orderby="+l.selsrt+"&order="+t}).then((e=>{a({curriculums:e,curriculumlength:parseInt(e.length)})})):wp.apiFetch({url:"/wp-json/curriculum/v2/taxquery?terms=0"}).then((e=>{a({curriculums:e,curriculumlength:parseInt(e.length)})}))}jQuery(document).on("click",".oer_curriculum_inspector_sbjt_addSubjects",(function(e){0==jQuery(".interface-complementary-area.edit-post-sidebar").length&&jQuery(".edit-post-header__settings .interface-pinned-items button").trigger("click"),jQuery(".oer_curriculum_inspector_sbjt_modal_resource_wrapper").show(300)})),jQuery(document).on("click",".oer_curriculum_inspector_sbjt_modal_wrapper_close",(function(e){jQuery(".oer_curriculum_inspector_sbjt_modal_resource_wrapper").hide(300)})),jQuery(document).on("keyup",(function(e){var r=e.keyCode?e.keyCode:e.which,t=jQuery(".oer_curriculum_inspector_wrapper .oer_curriculum_inspector_sbjt_modal_resource_wrapper");t.is(":visible")&&27==r&&t.hide(300)}));let m=(0,r.createElement)("div",{class:"oer_curriculum_inspector_wrapper"},(0,r.createElement)("div",{class:"oer_curriculum_inspector_sbjt_modal_resource_wrapper"},(0,r.createElement)("div",{class:"oer_curriculum_inspector_sbjt_modal_content_main"},(0,r.createElement)("div",{class:"oer_curriculum_inspector_sbjt_modal_wrapper_close"},(0,r.createElement)("span",{class:"dashicons dashicons-no"})),(0,r.createElement)("div",{class:"oer_curriculum_inspector_sbjt_modal_center"},(0,r.createElement)("div",{class:"oer_curriculum_inspector_sbjt_modal_table"},(0,r.createElement)("div",{class:"oer_curriculum_inspector_sbjt_modal_cell"},(0,r.createElement)("div",{class:"oer_curriculum_inspector_sbjt_modal"},(0,r.createElement)("div",{class:"oer_curriculum_inspector_sbjt_search_header"},oercurr__t("Subjects")),(0,r.createElement)("div",{class:"oer_curriculum_inspector_sbjt_search_wrapper"},(0,r.createElement)("div",{class:"oer_curriculum_inspector_subject"},l.categories.map(((e,t)=>(0,r.createElement)("label",{class:"components-base-control__label ls_inspector_subject_label "+e.level},(0,r.createElement)("input",{checked:void 0!==u&&-1!=u.indexOf(e.term_id)?"checked":"",id:"inspector-checkbox-control-"+t,class:"ls_inspector_subject_checkbox "+e.level,type:"checkbox",data:e.term_id,parent:e.parent,onClick:p}),e.name+" ("+e.cnt+")"))))),(0,r.createElement)("div",{class:"oer_curriculum_inspector_sbjt_search_footer"})))))))),d=(0,r.createElement)(t.InspectorControls,null,(0,r.createElement)(c.PanelBody,{title:oercurr__t("Curriculum Block settings"),initialOpen:!0},m,(0,r.createElement)("div",{class:"oer_curriculum_inspector_wrapper"},(0,r.createElement)("label",{class:"components-base-control__label",for:"oer_curriculum_inspector_subject"},oercurr__t("Subjects")+":"),(0,r.createElement)("div",{class:"oer_curriculum_inspector_sbjt_addbutton_wrapper"},(0,r.createElement)("div",{class:"button oer_curriculum_inspector_sbjt_addSubjects"},oercurr__t("Add Subjects")))),(0,r.createElement)("div",{class:"oer_curriculum_inspector_wrapper oer_curriculum_inspector_Postperpage"},(0,r.createElement)("label",{class:"components-base-control__label",for:"oer_curriculum_inspector_postperpage_select"},oercurr__t("Posts Per Page")+":"),(0,r.createElement)("select",{id:"oer_curriculum_inspector_postperpage_select",onChange:function(e){a({selper:e.target.value}),localStorage.setItem("postsPerPage-"+l.blockid,e.target.value);var r=e.target.value;let t="title"==l.selsrt?"asc":"desc";""!=u?wp.apiFetch({url:"/wp-json/curriculum/v2/taxquery?perpage="+r+"&terms="+u+"&orderby="+l.selsrt+"&order="+t}).then((e=>{a({curriculums:e,curriculumlength:parseInt(e.length)})})):wp.apiFetch({url:"/wp-json/curriculum/v2/taxquery?terms=0"}).then((e=>{a({curriculums:e,curriculumlength:parseInt(e.length)})}))},value:l.selper},l.displayOption.map(((e,t)=>l.selper==e?(0,r.createElement)("option",{selected:!0,value:e},e):(0,r.createElement)("option",{value:e},e))))),(0,r.createElement)("div",{class:"oer_curriculum_inspector_wrapper oer_curriculum_inspector_Postperpage"},(0,r.createElement)("label",{class:"components-base-control__label",for:"oer_curriculum_inspector_postperpage_select"},oercurr__t("Sort By")+":"),(0,r.createElement)("select",{id:"oer_curriculum_inspector_sortby_select",onChange:function(e){var r=e.target.value;a({selsrt:e.target.value});var t=jQuery(e.target).find(":selected").text();localStorage.setItem("sortBy-"+l.selsrt,t);let c="title"==r?"asc":"desc";""!=u?wp.apiFetch({url:"/wp-json/curriculum/v2/taxquery?perpage="+l.selper+"&terms="+u+"&orderby="+r+"&order="+c}).then((e=>{a({curriculums:e,curriculumlength:parseInt(e.length)})})):wp.apiFetch({url:"/wp-json/curriculum/v2/taxquery?terms=0"}).then((e=>{a({curriculums:e,curriculumlength:parseInt(e.length)})}))},value:l.selsrt},Object.keys(l.sortOption[0]).map((e=>l.selsrt==e?(0,r.createElement)("option",{value:e,checked:!0},oercurr__t(l.sortOption[0][e])):(0,r.createElement)("option",{value:e},oercurr__t(l.sortOption[0][e])))))))),_=(0,r.createElement)("div",{class:"oercurr-blk-topbar"},(0,r.createElement)("div",{class:"oercurr-blk-topbar-left"},(0,r.createElement)("span",null,oercurr__t("Browse All")+" "+l.curriculumlength+" "+oercurr__t("Curriculums"))),(0,r.createElement)("div",{class:"oercurr-blk-topbar-right"},(0,r.createElement)("div",{class:"oercurr-blk-topbar-display-box"},(0,r.createElement)("div",{class:"oercurr-blk-topbar-display-text"},(0,r.createElement)("span",null,oercurr__t("Show")+" "+l.selper),(0,r.createElement)("a",{href:"#"},(0,r.createElement)("i",{class:"fa fa-th-list","aria-hidden":"true"}))),(0,r.createElement)("ul",{class:"oercurr-blk-topbar-display-option oercurr-blk-topbar-option"},l.displayOption.map(((e,t)=>l.selper==e?(0,r.createElement)("li",{class:"selected"},(0,r.createElement)("a",{href:"#",ret:e},e)):(0,r.createElement)("li",null,(0,r.createElement)("a",{href:"#",ret:e},e)))))),(0,r.createElement)("div",{class:"oercurr-blk-topbar-sort-box"},(0,r.createElement)("div",{class:"oercurr-blk-topbar-sort-text"},(0,r.createElement)("span",null,oercurr__t("Sort By")+": "+oercurr__t(l.sortOption[0][l.selsrt])),(0,r.createElement)("a",{href:"#"},(0,r.createElement)("i",{class:"fa fa-sort","aria-hidden":"true"}))),(0,r.createElement)("ul",{class:"oercurr-blk-topbar-sort-option oercurr-blk-topbar-option"},Object.keys(l.sortOption[0]).map((e=>l.selsrt==e?(0,r.createElement)("li",{class:"selected"},(0,r.createElement)("a",{href:"#",ret:e},oercurr__t(l.sortOption[0][e]))):(0,r.createElement)("li",null,(0,r.createElement)("a",{href:"#",ret:e},oercurr__t(l.sortOption[0][e])))))))));return l.curriculums.length<1?(0,r.createElement)("div",o,d,(0,r.createElement)("div",{class:"oercurr-blk-main editor",blockid:l.blockid},_,(0,r.createElement)("div",{id:"oer_curriculum_cur_blk_content_wrapper",class:"oercurr-blk-wrapper"},(0,r.createElement)("div",{id:"oercurr-blk-content_drop"},(0,r.createElement)("div",{id:"oercurr-blk-content_placeholder"},(0,r.createElement)("div",{class:"button oer_curriculum_inspector_sbjt_addSubjects prvw"},(0,r.createElement)("span",{class:"dashicons dashicons-plus"}),"  Click here to add curriculum")))))):(0,r.createElement)("div",o,d,(0,r.createElement)("div",{class:"oercurr-blk-main editor",blockid:l.blockid},_,(0,r.createElement)("div",{id:"oer_curriculum_cur_blk_content_wrapper",class:"oercurr-blk-wrapper"},(0,r.createElement)("div",{id:"oercurr-blk-content_drop"},l.curriculums.map(((e,t)=>{let c=e.content.replace(/<[^>]+>/g,"");c.length<=180?c+="....":c=c.substr(1,180)+"...";let l=0,a="";return""!=e.oer_curriculum_grades?e.oer_curriculum_grades.length>1?(a="Grades: ",l=e.oer_curriculum_grades[0]+"-"+e.oer_curriculum_grades[e.oer_curriculum_grades.length-1]):(a="Grade: ",l=e.oer_curriculum_grades):(a="",l=""),(0,r.createElement)("div",{class:"oercurr-blk-row"},(0,r.createElement)("a",{href:e.link,class:"oercurr-blk-left",target:"_new",rel:"noopener"},(0,r.createElement)("img",{src:e.featured_image_url,alt:""})),(0,r.createElement)("div",{class:"oercurr-blk-right"},(0,r.createElement)("div",{class:"ttl"},(0,r.createElement)("a",{href:e.link,target:"_new",rel:"noopener"},e.title)),(0,r.createElement)("div",{class:"oercurr-postmeta"},(0,r.createElement)("span",{class:"oercurr-postmeta-grades"},(0,r.createElement)("strong",null,a),l)),(0,r.createElement)("div",{class:"desc"},c),(0,r.createElement)("div",{class:"oercurr-tags tagcloud"},e.tagsv2.map(((e,t)=>{let c=e.split("|");return(0,r.createElement)("span",null,(0,r.createElement)("a",{href:oercurr_global.baseurl+"/tag/"+c[1],alt:"",class:"button",target:"_new",rel:"noopener"},c[0]))})))))}))))))}function a(e){const t=e.attributes;return e.setAttributes,null===localStorage.getItem("postsPerPage-"+t.blockid)&&localStorage.setItem("postsPerPage-"+t.blockid,t.selper),null===localStorage.getItem("sortBy-"+t.blockid)&&localStorage.setItem("sortBy-"+t.blockid,t.selsrt),(0,r.createElement)("div",null,(0,r.createElement)("div",{id:t.blockid,class:"oercurr-blk-main editor",blockid:t.blockid,selcat:t.selectedCategory,selper:t.selper,selsrt:t.selsrt},(0,r.createElement)("div",{class:"oercurr-blk-topbar"},(0,r.createElement)("div",{class:"oercurr-blk-topbar-left"},(0,r.createElement)("span",{class:"oercurr-blk-topbar-left-count"},oercurr__t("Browse All")+" "+t.curriculumlength+" "+oercurr__t("Curriculums"))),(0,r.createElement)("div",{class:"oercurr-blk-topbar-right"},(0,r.createElement)("div",{class:"oercurr-blk-topbar-display-box"},(0,r.createElement)("div",{class:"oercurr-blk-topbar-display-text"},(0,r.createElement)("span",null,oercurr__t("Show")+" "+t.selper),(0,r.createElement)("a",{href:"#"},(0,r.createElement)("i",{class:"fa fa-th-list","aria-hidden":"true"}))),(0,r.createElement)("ul",{class:"oercurr-blk-topbar-display-option oercurr-blk-topbar-option"},t.displayOption.map(((e,c)=>t.selper==e?(0,r.createElement)("li",{class:"selected"},(0,r.createElement)("a",{href:"#",ret:e},e)):(0,r.createElement)("li",null,(0,r.createElement)("a",{href:"#",ret:e},e)))))),(0,r.createElement)("div",{class:"oercurr-blk-topbar-sort-box"},(0,r.createElement)("div",{class:"oercurr-blk-topbar-sort-text"},(0,r.createElement)("span",null,oercurr__t("Sort By")+": "+oercurr__t(t.sortOption[0][t.selsrt])),(0,r.createElement)("a",{href:"#"},(0,r.createElement)("i",{class:"fa fa-sort","aria-hidden":"true"}))),(0,r.createElement)("ul",{class:"oercurr-blk-topbar-sort-option oercurr-blk-topbar-option"},Object.keys(t.sortOption[0]).map((e=>t.selsrt==e?(0,r.createElement)("li",{class:"selected"},(0,r.createElement)("a",{href:"#",ret:e},oercurr__t(t.sortOption[0][e]))):(0,r.createElement)("li",null,(0,r.createElement)("a",{href:"#",ret:e},oercurr__t(t.sortOption[0][e]))))))))),(0,r.createElement)("div",{id:"oer_curriculum_cur_blk_content_wrapper",class:"oercurr-blk-wrapper"},(0,r.createElement)("div",{id:"oercurr-blk-content_drop"},t.curriculums.map(((e,t)=>{let c=e.content.replace(/<[^>]+>/g,"");c.length<=180?c+="....":c=c.substr(1,180)+"...";let l=0,a="";return""!=e.oer_curriculum_grades?e.oer_curriculum_grades.length>1?(a="Grades: ",l=e.oer_curriculum_grades[0]+"-"+e.oer_curriculum_grades[e.oer_curriculum_grades.length-1]):(a="Grade: ",l=e.oer_curriculum_grades):(a="",l=""),(0,r.createElement)("div",{class:"oercurr-blk-row"},(0,r.createElement)("a",{href:e.link,class:"oercurr-blk-left",target:"_new",rel:"noopener noreferrer"},(0,r.createElement)("img",{src:e.featured_image_url,alt:""})),(0,r.createElement)("div",{class:"oercurr-blk-right"},(0,r.createElement)("div",{class:"ttl"},(0,r.createElement)("a",{href:e.link,target:"_new",rel:"noopener noreferrer"},e.title)),(0,r.createElement)("div",{class:"oercurr-postmeta"},(0,r.createElement)("span",{class:"oercurr-postmeta-grades"},(0,r.createElement)("strong",null,a),l)),(0,r.createElement)("div",{class:"desc"},c),(0,r.createElement)("div",{class:"oercurr-tags tagcloud"},e.tagsv2.map(((e,t)=>{let c=e.split("|");return(0,r.createElement)("span",null,(0,r.createElement)("a",{href:oercurr_global.baseurl+"/tag/"+c[1],alt:"",class:"button",target:"_new",rel:"noopener noreferrer"},c[0]))})))))}))))))}window.wp.data;const{__:__}=wp.i18n;window.oercurrBlocksJson="undefined"==typeof oercurr_clb_legacy_marker,window.oercurrBlocksJson?(0,e.registerBlockType)("oer-curriculum/oer-curriculum-block",{edit:l,save:a,example:()=>{}}):(0,e.registerBlockType)("oer-curriculum/oer-curriculum-block",{title:"Curriculum List",icon:"welcome-learn-more",description:"Use this block to add a list of curriculum based on subject",category:"oer-block-category",keywords:[__("curriculum-list"),__("curriculum"),__("list")],attributes:{blockid:{type:"string"},curriculums:{type:"array"},curriculumlength:{type:"integer"},categories:{type:"array"},selectedCategory:{type:"string"},displayOption:{type:"array",default:[2,5,10,15,20,25,30]},selper:{type:"string",default:"5"},selsrt:{type:"string",default:"modified"},sortOption:{type:"object",default:[{date:"Date Added",modified:"Date Updated",title:"Title a-z"}]},getLocal:{type:"array"}},edit:l,save:a,example:()=>{}})}},t={};function c(e){var l=t[e];if(void 0!==l)return l.exports;var a=t[e]={exports:{}};return r[e](a,a.exports,c),a.exports}c.m=r,e=[],c.O=function(r,t,l,a){if(!t){var s=1/0;for(i=0;i<e.length;i++){t=e[i][0],l=e[i][1],a=e[i][2];for(var o=!0,u=0;u<t.length;u++)(!1&a||s>=a)&&Object.keys(c.O).every((function(e){return c.O[e](t[u])}))?t.splice(u--,1):(o=!1,a<s&&(s=a));if(o){e.splice(i--,1);var n=l();void 0!==n&&(r=n)}}return r}a=a||0;for(var i=e.length;i>0&&e[i-1][2]>a;i--)e[i]=e[i-1];e[i]=[t,l,a]},c.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},function(){var e={826:0,46:0};c.O.j=function(r){return 0===e[r]};var r=function(r,t){var l,a,s=t[0],o=t[1],u=t[2],n=0;if(s.some((function(r){return 0!==e[r]}))){for(l in o)c.o(o,l)&&(c.m[l]=o[l]);if(u)var i=u(c)}for(r&&r(t);n<s.length;n++)a=s[n],c.o(e,a)&&e[a]&&e[a][0](),e[s[n]]=0;return c.O(i)},t=self.webpackChunkoer_curriculum_block=self.webpackChunkoer_curriculum_block||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))}();var l=c.O(void 0,[46],(function(){return c(101)}));l=c.O(l)}();